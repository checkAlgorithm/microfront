<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="jump('/')">首页</button>
    <button onclick="jump('/vue2.1')">vue2.1项目</button>
    <button onclick="jump('/vue2.2')">vue2.2项目</button>
    <button onclick="jump('/vue3.0')">vue3.0项目</button>
    <button onclick="jump('/react')">react项目</button>
    <div id="container"></div>
  </body>
  <script type="text/javascript">
    function jump(subapp) {
      history.pushState({}, subapp, subapp)
    }
  </script>
  <script type="module">
    import { registerMicroApps, start } from './src/index.js'
    registerMicroApps([
      {
        name: 'vue2.1App',
        entry: '//localhost:3001',
        container: '#container',
        activeRule: '/vue2.1',
      },
      {
        name: 'vue2.2App',
        entry: '//localhost:3002',
        container: '#container',
        activeRule: '/vue2.2',
      },
      {
        name: 'vue3.0App',
        entry: '//localhost:3003',
        container: '#container',
        activeRule: '/vue3.0',
      },
      {
        name: 'reactApp',
        entry: '//localhost:3000',
        container: '#container',
        activeRule: '/react',
      },
    ])
    // 启动app
    start()
  </script>
</html>
